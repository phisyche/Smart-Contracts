# This is a test program that acts as a ZMQ reply server in
#    a request/reply configuration

def main()
    zmq_init() // prepare to use zmq
    var socket = zmq_open_reply()
    display "bind step", zmq_bind(socket, "tcp", "*", 5555)
    for i = 0 to 10
        var req = zmq_recv_block(socket)
        print "Server:", req, "-> World"
        zmq_send(socket, "World")
    zmq_close(socket)
    zmq_term()

main()
exit()
