# This is a test program that acts as a ZMQ request client in
#   a request/reply configuration

def main()
    zmq_init() // prepare to use zmq
    var socket = zmq_open_request()
    display "connect step", zmq_connect(socket, "tcp", "localhost", 5555)
    for i = 0 to 10
        zmq_send(socket, "Hello")
        var result = zmq_recv_block(socket)
        print "Client: Hello ->", result
    zmq_close(socket)
    zmq_term()

main()
exit()
